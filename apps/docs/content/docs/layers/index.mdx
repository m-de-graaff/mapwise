---
title: "@mapwise/layers"
description: Specialized layer implementations.
---

# @mapwise/layers

The `@mapwise/layers` package provides factory functions and type definitions for various layer types. It handles the complexity of parsing capabilities (WMS/WMTS), normalizing URLs, and configuring MapLibre layers correctly.

## Installation

```bash
pnpm add @mapwise/layers
```

## Supported Layer Types

### GeoJSON
Renders Points, Lines, and Polygons from GeoJSON data.

```typescript
import { createGeoJsonLayer } from '@mapwise/layers';

const layer = createGeoJsonLayer({
  data: 'https://example.com/data.geojson',
  style: {
    point: { color: 'red', radius: 5 },
    line: { color: 'blue', width: 2 },
    polygon: { color: 'green', opacity: 0.5 }
  }
});
```

### WMS (Web Map Service)
Support for WMS 1.1.1 and 1.3.0.

- **Features**:
  - Automatic capabilities parsing (`fetchWmsCapabilities`).
  - Legend generation (`buildWmsLegendUrl`).
  - CRS negotiation.

```typescript
import { createWmsRasterLayer } from '@mapwise/layers';

const layer = createWmsRasterLayer({
  url: 'https://ows.terrestris.de/osm/service',
  layers: 'OSM-WMS',
  format: 'image/png',
  transparent: true
});
```

### WMTS (Web Map Tile Service)
High-performance tiled maps.

- **Features**:
  - Matrix set selection.
  - Tile grid alignment.

### XYZ / Raster Tiles
Standard slippy map tiles.

```typescript
import { createXyzRasterLayer } from '@mapwise/layers';

const layer = createXyzRasterLayer({
  url: 'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
  attribution: 'Â© OpenStreetMap contributors'
});
```

### Vector Tiles
Mapbox Vector Tile (MVT) support. Configurable with simple style presets or full MapLibre style specification.

### PMTiles
Cloud-optimized single-archive vector/raster tiles.

```typescript
import { createPmtilesLayer } from '@mapwise/layers';

const layer = createPmtilesLayer({
  url: 'https://example.com/data.pmtiles',
  type: 'vector' // or 'raster'
});
```

### ArcGIS
Support for ArcGIS REST services (MapServer/ImageServer).

### 3D Buildings
Renders 3D building extrusions from vector tile sources, optionally applying height scaling and color gradients.

### Terrain
Enables 3D terrain rendering (DEM).

## Common Utilities

The package also exports utilities for working with geospatial data:
- `getGeoJsonBounds`: Calculate bounding box.
- `validateUrl`: Secure URL validation.
- `fetchText`/`fetchXml`: Network helpers.
