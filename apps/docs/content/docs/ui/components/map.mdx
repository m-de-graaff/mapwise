---
title: Map
description: The core map component.
---

# Map

The `<Map>` component renders a MapLibre GL JS map instance. It acts as the `MapProvider` for its children, allowing them to access the map controller via hooks.

## Usage

```tsx
import { Map } from '@mapwise/ui';

function MyMap() {
  return (
    <div className="h-screen w-full">
      <Map
        initialViewState={{
          longitude: -122.4,
          latitude: 37.8,
          zoom: 14
        }}
        styles={{
            light: 'https://demotiles.maplibre.org/style.json',
            dark: 'https://demotiles.maplibre.org/style.json'
        }}
      >
        {/* Child components like markers or popups go here */}
      </Map>
    </div>
  );
}
```

## Props

The component accepts all standard [MapLibre MapOptions](https://maplibre.org/maplibre-gl-js/docs/API/classes/Map/) as props (e.g., `minZoom`, `maxZoom`, `antialias`), plus:

| Prop | Type | Description |
| :--- | :--- | :--- |
| `styles` | `{ light: string, dark: string }` | Style URLs for light and dark modes. Automatically switches based on system theme. |
| `className` | `string` | className for the map container. |

## Markers and Popups

The package exports helpers for markers and popups that work declaratively.

```tsx
import { Map, MapMarker, MapPopup } from '@mapwise/ui';

<Map>
  <MapMarker longitude={-122.4} latitude={37.8}>
    <div className="bg-red-500 rounded-full w-4 h-4" />
  </MapMarker>
  
  <MapPopup longitude={-122.4} latitude={37.8}>
    <div>Hello San Francisco!</div>
  </MapPopup>
</Map>
```

## Map Controls

Add standard map controls like zoom, compass, and fullscreen.

```tsx
import { Map, MapControls } from '@mapwise/ui';

<Map>
  <MapControls 
    position="bottom-right" 
    showZoom={true} 
    showCompass={true} 
    showLocate={true} // Requires HTTPS
    showFullscreen={true}
  />
</Map>
```

| Prop | Type | Description |
| :--- | :--- | :--- |
| `position` | `'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'` | Corner to place controls. |
| `showZoom` | `boolean` | Show zoom in/out buttons. |
| `showCompass` | `boolean` | Show bearing reset button. |
| `showLocate` | `boolean` | Show "Find my location" button. |
| `showFullscreen` | `boolean` | Show fullscreen toggle. |

## Routes and Lines

Draw simple polylines/routes on the map.

```tsx
import { Map, MapRoute } from '@mapwise/ui';

<Map>
  <MapRoute 
    coordinates={[[-122.4, 37.8], [-122.5, 37.9]]}
    color="#FF0000"
    width={4}
    dashArray={[2, 2]}
  />
</Map>
```

## Clustering

Visualizes point data using supercluster-based clustering.

```tsx
import { Map, MapClusterLayer } from '@mapwise/ui';

<Map>
  <MapClusterLayer 
    data={myGeoJsonFeatureCollection} 
    clusterColors={['#51bbd6', '#f1f075', '#f28cb1']}
    clusterRadius={50}
    onPointClick={(feature) => console.log(feature)}
  />
</Map>
```
